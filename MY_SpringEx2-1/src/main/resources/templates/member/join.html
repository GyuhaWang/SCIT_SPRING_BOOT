<!DOCTYPE html>
<html xmlns="thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>회원가입</title>
<link rel="stylesheet" href="/ex2/css/header.css">
<link rel="stylesheet" href="/ex2/css/form.css">
<style>
	body {
	background-color:gray;
	}
	section{
	display:flex;
	justify-content:center;
	align-items:center;
	padding-top:20px;
	}
	
	
	
</style>
<script>
window.onload = function(){
	const signIn_form = document.querySelector("#signIn_form");
	signIn_form.addEventListener('submit',(e)=>{
		e.preventDefault();
		console.log("start");
		var isIdAv = false;
		var isPwAv = false;
		
		const form= e.target
		const formData = new FormData(form);
	
		const username = formData.get("id");
		console.log("formdata", username);
		if(username.length >=3 && username.length <15){
			isIdAv = true;
			
		}
		
		const password1 = formData.get("pw");
		const password2 = formData.get("pwCheck");
		
		if((password1.length >=1 && password1 == password2)){
			isPwAv = true;
		}
		console.log("end",isIdAv);
		console.log("end",isPwAv);
		if(isIdAv && isPwAv){
			form.submit();
		}
	})
}
</script>
</head>
<body>
<div th:replace="~{layout/header :: header}"></div>
<section>
	<form id="signIn_form" action="join" method="post">
		<h3>회원가입</h3>
		<br/>
		<label for="id">아이디</label>
		<input name ="id" type="text">
		<br/>

		<label for="pw">비밀번호</label>
		<input name ="pw" type="password">
		<br/>
		<label for="pwCheck">비밀번호 확인</label>
		<input name ="pwCheck" type="password">
		<br/>
		<label for="name">이름</label>
		<input name ="name" type="text">
		<br/>
		<label for="phone">핸드폰</label>
		<input name ="phone" type="text">
		<br/>
		<input id="submit_btn" type="submit" value="가입" >
		
	</form>
</section>
</body>
</html>